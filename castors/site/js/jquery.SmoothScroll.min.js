/*
Copyright (c) 2018 LieutenantPeacock

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

https://github.com/LieutenantPeacock/SmoothScroll

examples:

smoothScroll({yPos: 1000, duration: 750});

smoothScroll({yPos: 'end'});

Option	Description	Default
yPos	The y-position to scroll to. If specified as a number, it is an absolute number of pixels from the top. It can also be specified as a relative amount from the current position. It can also be the special string values "start" (the top of the scrolling area), "center" (the middle of the scrolling area), and "end" (the bottom of the scrolling area). A relative number of pixels is specified as a string prefixed with + (to scroll down a certain number of pixels) or - (to scroll up a certain number of pixels), e.g. '+100', '-50'. A relative percentage is specified by further adding the % symbol to the end of the string, which indicates scrolling by a percentage of the entire height, e.g. '+10%', '-15%'.	No default.
xPos	The x-position to scroll to. If specified as a number, it is an absolute number of pixels from the left. It can also be specified as a relative amount from the current position. It can also be the special string values "start" (the left of the scrolling area), "center" (the middle of the scrolling area), and "end" (the right of the scrolling area). A relative number of pixels is specified as a string prefixed with + (to scroll down a certain number of pixels) or - (to scroll up a certain number of pixels), e.g. '+100', '-50'. A relative percentage is specified by further adding the % symbol to the end of the string, which indicates scrolling by a percentage of the entire width, e.g. '+10%', '-15%'.	No default.
duration	The amount of time the scrolling takes (in milliseconds).	500
scrollingElement	The HTML element to scroll instead of the window.	No default.
toElement	The HTML element to scroll to. This option overrides the xPos and yPos options.	No default.
preventUserScroll	Prevent the user from scrolling during the smooth scroll animation.	true
easing	The easing function. It can either be a string that is the name of one of the predefined easing functions (in smoothScroll.easing), or a function that accepts the percentage of time that has passed (in its decimal form, between 0 and 1) and returns the percentage of the scrolling distance to scroll to at the current time (as a number between 0 and 1).	'linear'
complete	The callback function to invoke when the smooth scrolling is complete.	No default.
firstAxis	The first axis to scroll if changing both the x- and y-positions. There are two possible values: 'x' and 'y'. If not specified, both axes will scroll at the same time.	No default.
scrollEvents	An array of strings indicating the names of events that will stop the scrolling animation if the preventUserScroll option is set to false.	['scroll', 'mousedown', 'wheel', 'DOMMouseScroll', 'mousewheel', 'touchmove']
scrollKeys	An array of integer key codes represent the keys that will stop the scrolling animation when pressed by the user if the preventUserScroll option is set to false.	[37, 38, 39, 40, 32]
block	The position of the element of the element to scroll to (specified by the toElement option) relative to the top of the container. The value can be "start" (the top of the element is aligned to the top of the visible area), "center" (the element is in the vertical center of the visible area), "end" (the bottom of the element is aligned with the bottom of the visible area), or a string indicating the percentage, e.g. '50%'. If not specified, it is the same as "start".	No default.
inline	The position of the element of the element to scroll to (specified by the toElement option) relative to the left of the container. The value can be "start" (the left of the element is aligned to the left of the visible area), "center" (the element is in the horizontal center of the visible area), "end" (the right of the element is aligned with the right of the visible area), or a string indicating the percentage, e.g. '50%'. If not specified, it is the same as "start".	No default.
allowAnimationOverlap	A boolean value indicating whether or not multiple simultaneous animations are allowed on the same container.	false
paddingTop	A certain number of pixels to add to the y-position to scroll to. If not specified, it is the same as 0.	No default.
paddingLeft	A certain number of pixels to add to the x-position to scroll to. If not specified, it is the same as 0.	


Return Value
smoothScroll returns an object with the destroy property which is a function that stops the scrolling when called.

var s = smoothScroll({yPos: 5000, duration: 3000});
// Stop the scrolling sometime later
s.destroy();




*/
!function(t){var e,n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},o=[],r=document.getElementsByTagName("html")[0];function i(n){var o=n.getBoundingClientRect(),i=t.pageYOffset||r.scrollTop||e.scrollTop,l=t.pageXOffset||r.scrollLeft||e.scrollLeft,s=r.clientTop||e.clientTop||0,a=r.clientLeft||e.clientLeft||0;return{top:o.top+i-s,left:o.left+l-a}}function l(t){return/Element/.test({}.toString.call(t))}function s(t,e,n){var o;if("number"==typeof t)return t;switch(t){case"start":o=0;break;case"end":o=n+10;break;case"center":o=n/2;break;default:var r,i=t.split("+"),l=t.split("-");if(t.indexOf("+")>0)throw new Error("Position can only contain a + sign at the start");if(t.indexOf("-")>0)throw new Error("Position can only contain a - sign at the start");if(t.indexOf("+")>-1&&t.indexOf("-")>-1)throw new Error("Position cannot contain both + and - signs.");if(t.indexOf("%")>-1&&t.indexOf("%")!==t.length-1)throw new Error("Position can only contain a % symbol at the end.");o=i[1]?(r=i[1]).indexOf("%")>-1?e+n*(r=r.split("%")[0])/100:e+ +r:l[1]?(r=l[1]).indexOf("%")>-1?e-n*(r=r.split("%")[0])/100:e-+r:t.indexOf("%")>-1?n*(r=t.split("%")[0])/100:+t}return o}function a(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}function c(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}var u={duration:500,preventUserScroll:!0,scrollEvents:["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","touchmove"],scrollKeys:[37,38,39,40,32],allowAnimationOverlap:!1,easing:"linear"};function f(){for(var t=0;t<arguments.length;t++)if(null!=arguments[t])return arguments[t]}function d(t,e,n,o){if("string"!=typeof t)throw new Error("Block and inline values must be strings");function r(t){return e-(n-o)*t}switch(t){case"start":return e;case"center":return r(.5);case"end":return r(1);default:if(t.indexOf("%")>-1&&t.split("%").length<3)return r(+t.split("%")[0]/100);throw new Error("Invalid block or inline string value")}}function h(e,n){if(t.getComputedStyle){var o=getComputedStyle(e,null);if(o.getPropertyValue)return o.getPropertyValue(n);if(o.getAttribute)return o.getAttribute(n);if(o[n])return o[n]}else if(e.currentStyle)return e.currentStyle[n]}function m(e){return e?{x:e.scrollLeft,y:e.scrollTop}:{x:void 0!==t.pageXOffset?t.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==t.pageYOffset?t.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}}function p(t,e,n){return t>e?e-(e-t)*n:(t-e)*n+e}function g(t){for(var e=o.length,n=e-1;n>=0;n--)if(t){var r=o[n];t(r)&&r.destroy(!0)}else o[n].destroy(!0);return!!e}t.smoothScroll=function v(w){if(e||(e=document.getElementsByTagName("body")[0]),w=w||{},this instanceof v)return{smoothScroll:function(e){e=e||{};for(var n=0;n<b.length;n++){var o=b[n];o in e||(e[o]=w[o])}t.smoothScroll(e)}};var y,E,x,M=f(w.yPos,u.yPos),O=+f(w.duration,u.duration),S=f(w.xPos,u.xPos),P=m(),T=P.x,L=P.y,A=Math.max(e.scrollHeight,e.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight),k=Math.max(r.clientWidth,e.scrollWidth,r.scrollWidth,e.offsetWidth,r.offsetWidth),I=A-t.innerHeight,H=k-t.innerWidth,N=f(w.complete,u.complete),W=f(w.scrollingElement,u.scrollingElement),B=f(w.toElement,u.toElement),q=f(w.firstAxis,u.firstAxis),C=f(w.preventUserScroll,u.preventUserScroll),F=f(w.easing,u.easing),R=f(w.block,u.block),K=f(w.inline,u.inline),U=t.innerHeight,X=t.innerWidth,Y=0,Q=f(w.scrollEvents,u.scrollEvents),D=f(w.scrollKeys,u.scrollKeys),V=f(w.paddingTop,u.paddingTop),z=f(w.paddingLeft,u.paddingLeft);if("string"==typeof F){var j=F;if(!(F=v.easing[F]))throw new Error("Easing function "+j+" does not exist.")}else if("function"!=typeof F)throw new Error("Easing must be the name of an easing function or an easing function");if(W){if(!l(W))throw new Error("Scrolling element must be a HTML element");W!=e&&W!=r?(A=W.scrollHeight,k=W.scrollWidth,I=A-W.clientHeight,H=k-W.clientWidth,T=W.scrollLeft,L=W.scrollTop,U=parseInt(h(W,"height"),10),X=parseInt(h(W,"width"),10),y=function(t,e){W.scrollTop=e,W.scrollLeft=t}):(W=void 0,y=t.scrollTo)}else y=t.scrollTo;if(M=null!=M?s(M,L,I):L,S=null!=S?s(S,T,H):T,isNaN(M))throw new Error("Invalid yPos");if(isNaN(S))throw new Error("Invalid xPos");if(isNaN(O))throw new Error("Invalid duration");if(O=Math.max(O,0),S=Math.max(S,0),M=Math.max(M,0),B){if(!l(B))throw new Error("Element to scroll to must be a HTML element");var G=i(B);if(W){var J=i(W);M=W.scrollTop+(G.top-J.top)-parseInt(h(W,"border-top-width"),10),S=W.scrollLeft+(G.left-J.left)-parseInt(h(W,"border-left-width"),10)}else M=G.top,S=G.left;null!=R&&(M=d(R,M,U,B.offsetHeight)),null!=K&&(S=d(K,S,X,B.offsetWidth))}if(null!=V&&(M+=V),null!=z&&(S+=z),M=Math.min(Math.round(M),A),(S=Math.min(Math.round(S),k))!==T||M!==L){if(S!==T&&M!==L||(q=null),null!=q&&(O/=2),!C){for(var Z=0;Z<Q.length;Z++){var $=Q[Z];W?a(W,$,_):(a(e,$,_),a(r,$,_))}a(W||document,"keydown",tt)}return x=function(t,e,r,i){r&&g(function(t){return t.scrollingElem==i});var l,s=!1,a=function(){s||(t(),n(a))},c=function(t){if(!s){s=!0;var n=function(t){for(var e=0;e<o.length;e++)if(o[e].destroy===t)return e}(c);null!=n&&o.splice(n,1),t&&e(!1,!0)}};return l={destroy:c,scrollingElem:i},o.push(l),n(a),{destroy:function(){c()}}}(function(){var e=t.performance&&performance.now?performance.now():+new Date;E||(E=e);var n=e-E;if(y("y"!=q?p(S,T,F(n/O)):T,"x"!=q?p(M,L,F(n/O)):L),n>=O)if(y("y"!=q?S:T,"x"!=q?M:L),null!=q&&++Y<2){switch(q){case"x":q="y",T=S;break;case"y":q="x",L=M}E=null}else nt(!1,!1)},nt,!f(w.allowAnimationOverlap,u.allowAnimationOverlap),W)}function _(){et(),nt(!0,!1)}function tt(t){D.indexOf(t.keyCode)>-1&&(et(),nt(!0,!1))}function et(){for(var t=0;t<Q.length;t++){var n=Q[t];W?c(W,n,_):(c(e,n,_),c(r,n,_))}c(W||document,"keydown",tt)}function nt(t,e){var n=m(W);x.destroy(),C||et(),N&&N({xPos:S,yPos:M,scrollingElement:W,duration:O,currentXPos:n.x,currentYPos:n.y,interrupted:t,canceled:e})}},smoothScroll.stopAll=function(){return g()},smoothScroll.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}};for(var v={Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}},w=["Quad","Cubic","Quart","Quint","Expo"],y=0;y<w.length;y++)v[w[y]]=function(t){return Math.pow(t,y+2)};for(var E in v)if(null!=E&&null!=v[E]){var x=v[E];smoothScroll.easing["easeIn"+E]=x,smoothScroll.easing["easeOut"+E]=function(t){return 1-x(1-t)},smoothScroll.easing["easeInOut"+E]=function(t){return t<.5?x(2*t)/2:1-x(-2*t+2)/2}}smoothScroll.scrolling=function(){return!!o.length};var b=["xPos","yPos","duration","scrollingElement","toElement","preventUserScroll","easing","complete","firstAxis","scrollEvents","scrollKeys","block","inline","allowAnimationOverlap","paddingTop","paddingLeft"];smoothScroll.defaults=function(t){if(null!=t)for(var e=0;e<b.length;e++){var n=b[e];null!=t[n]&&(u[n]=t[n])}return u},smoothScroll.nativeSupported="scrollBehavior"in r.style}(this);